#summary Byte-level Description of the MGA binary file.
#labels Phase-Implementation

= Introduction =

Below is the byte-level description of the MGA binary file format.  This will change depending on the work being done regarding changes to the MGA "special sauce" and the binary format itself, as described in [MGA_v2_to_v3_Changes].

= MGA Binary File Format - Version 3 =

Bytes (all ordered little endian):

0-3: Size of GUID (always = 16)

4-19: GUID (long, short, short, 8xChar)
		{ 68, 116, 143, 2, 81, 46, 211, 17, 179, 109, 0, 98, 8, 45, 248, 116)


*** New Addition ***
20-21: DTID_INDEX (2B, if present then index is present)
22-26: Size of Index (4 bytes ObjID_t)

== Index Entry ==
  * MetaID (2 bytes)
  * ObjID(4 bytes)
  * File Position (8 bytes)
*** End of Addition ***


=== Start of Objects ===

0-1: MetaID (2 bytes)<br>
2-5: ObjID (4 bytes)<br>

=== Start of Attributes ===

0-1: ValueType (2 bytes)<br>
2-3: AttrID (2 bytes)<br>

-- Read Attribute Value
  * Long: 4 bytes
  * Real: 4 bytes
  * String: 4 bytes for length + length number of bytes
  * Binary: 4 bytes for length + length number of bytes
  * Lock: 0 bytes
  * Collection: 0 bytes (***New Addition: 4 bytes size, + MetaID,ObjID (6B) per item in collection ***)
  * Pointer: 2 bytes (MetaID) + 4 bytes (ObjID) - only MetaID if MetaID == METAID_NONE

=== End of Attributes when ValueType equals VALUETYPE_NONE ===

=== End of Objects when MetaID equals METAID_NONE ===